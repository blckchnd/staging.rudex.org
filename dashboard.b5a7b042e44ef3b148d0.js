(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{2021:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(24),s=n(21),i=n(235),c=n(115),l=n.n(c),u=(n(11),n(1793),n(1746),n(3)),p=n.n(u),f=n(34),h=n(40),m=n(125),d=n(4),g=n.n(d),y=n(66),v=n(31),E=n(15),b=n(1),w=n.n(b),S=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var B=function(e){function t(){k(this,t);var e=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.statsInterval=null,e.state={imgError:!1},e}return T(t,o.a.Component),S(t,[{key:"_checkStats",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{close:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{close:{}};return e.volumeBase!==t.volumeBase||!E.a.are_equal_shallow(e.close&&e.close.base,t.close&&t.close.base)||!E.a.are_equal_shallow(e.close&&e.close.quote,t.close&&t.close.quote)}},{key:"shouldComponentUpdate",value:function(e,t){return this._checkStats(e.marketStats,this.props.marketStats)||e.base.get("id")!==this.props.base.get("id")||e.quote.get("id")!==this.props.quote.get("id")||t.imgError!==this.state.imgError}},{key:"componentWillMount",value:function(){y.a.getMarketStats.defer(this.props.quote,this.props.base),this.statsChecked=new Date,this.statsInterval=setInterval(y.a.getMarketStats.bind(this,this.props.quote,this.props.base),35e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.statsInterval)}},{key:"goToMarket",value:function(e){e.preventDefault(),this.context.router.history.push("/market/"+this.props.base.get("symbol")+"_"+this.props.quote.get("symbol"))}},{key:"_onError",value:function(e){this.state.imgError||(this.refs[e.toLowerCase()].src="asset-symbols/bts.png",this.setState({imgError:!0}))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.isLowVolume,r=e.base,a=e.quote,s=e.marketStats;if(n||t)return null;var i=function(e){return e.get("symbol")}(r),c=s?parseFloat(s.change)>0?"change-up":parseFloat(s.change)<0?"change-down":"":"";return o.a.createElement("div",{className:g()("grid-block no-overflow fm-container",this.props.className),onClick:this.goToMarket.bind(this)},o.a.createElement("div",{className:"grid-block vertical shrink"},o.a.createElement("div",{className:"v-align"},o.a.createElement("img",{className:"align-center",ref:i.toLowerCase(),onError:this._onError.bind(this,i),style:{maxWidth:70},src:"asset-symbols/"+i.toLowerCase()+".png"}))),o.a.createElement("div",{className:"grid-block vertical no-overflow"},o.a.createElement("div",{className:"fm-name"},o.a.createElement(m.a,{dataPlace:"top",name:r.get("symbol")})," ",":"," ",o.a.createElement(m.a,{dataPlace:"top",name:a.get("symbol")})),o.a.createElement("div",{className:"fm-volume"},o.a.createElement(p.a,{content:"exchange.price"}),":"," ",o.a.createElement("div",{className:"float-right"},s&&s.price?E.a.price_text(s.price.toReal(),r,a):null)),o.a.createElement("div",{className:"fm-volume"},o.a.createElement(p.a,{content:"exchange.volume"}),":"," ",o.a.createElement("div",{className:"float-right"},s?E.a.format_volume(s.volumeBase,a.get("precision")):null)),o.a.createElement("div",{className:"fm-change"},o.a.createElement(p.a,{content:"exchange.change"}),":"," ",o.a.createElement("div",{className:g()("float-right",c)},s?s.change:null,"%"))))}}]),t}();B.contextTypes={router:w.a.object.isRequired},B.propTypes={quote:f.a.ChainAsset.isRequired,base:f.a.ChainAsset.isRequired,invert:w.a.bool},B.defaultProps={invert:!0},B=Object(h.a)(B);var O=function(e){function t(){return k(this,t),_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return T(t,o.a.Component),S(t,[{key:"render",value:function(){return o.a.createElement(B,this.props)}}]),t}(),R=Object(v.connect)(O,{listenTo:function(){return[i.a]},getProps:function(e){return{marketStats:i.a.getState().allMarketStats.get(e.marketId)}}}),D=n(12),A=n(48),U=n(509),j=n(20),P=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var C=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r={"4018d784":[["BTS","RUBLE"],["RUBLE","ESCROW.RUBLE"],["BTS","RUDEX.EOS"],["BTS","RUDEX.BTC"],["BTS","RUDEX.ETH"],["BTS","PPY"],["RUBLE","RUDEX.GOLOS"],["RUBLE","RUDEX.GBG"],["BTS","RUDEX.STEEM"],["BTS","RUDEX.SBD"],["BTS","ZEPH"],["BTS","RUDEX.DCT"],["BTS","RUDEX.KRM"],["BTS","RUDEX.TT"],["BTS","RUDEX.SCR"],["BTS","RUDEX.DGB"],["BTS","USD"],["BTS","EUR"],["BTS","CNY"],["BTS","GOLD"],["BTS","SILVER"],["BTS","HERO"],["BTS","OBITS"],["BTS","SMOKE"],["BTS","YOYOW"],["BTS","BTWTY"],["BTS","RUDEX.MUSE"],["BTS","HERTZ"]],"39f5e2ed":[["TEST","PEG.FAKEUSD"],["TEST","BTWTY"]]},o=D.Apis.instance().chain_id;return o&&(o=o.substr(0,8)),n.state={width:null,showIgnored:!1,featuredMarkets:r[o]||r["4018d784"],newAssets:[],currentEntry:e.currentEntry},n._setDimensions=n._setDimensions.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),P(t,[{key:"componentDidMount",value:function(){this._setDimensions(),window.addEventListener("resize",this._setDimensions,{capture:!1,passive:!0})}},{key:"shouldComponentUpdate",value:function(e,t){return!E.a.are_equal_shallow(t.featuredMarkets,this.state.featuredMarkets)||!E.a.are_equal_shallow(e.lowVolumeMarkets,this.props.lowVolumeMarkets)||!E.a.are_equal_shallow(t.newAssets,this.state.newAssets)||e.linkedAccounts!==this.props.linkedAccounts||e.ignoredAccounts!==this.props.ignoredAccounts||e.passwordAccount!==this.props.passwordAccount||t.width!==this.state.width||e.accountsReady!==this.props.accountsReady||t.showIgnored!==this.state.showIgnored||t.currentEntry!==this.state.currentEntry}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._setDimensions)}},{key:"_setDimensions",value:function(){var e=window.innerWidth;e!==this.state.width&&this.setState({width:e})}},{key:"_onToggleIgnored",value:function(){this.setState({showIgnored:!this.state.showIgnored})}},{key:"_onSwitchType",value:function(e){this.setState({currentEntry:e}),j.a.changeViewSetting({dashboardEntry:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.linkedAccounts,r=t.myHiddenAccounts,a=t.accountsReady,s=t.passwordAccount,i=this.state,c=(i.width,i.showIgnored,i.featuredMarkets),l=i.newAssets;i.currentEntry;s&&!n.has(s)&&(n=n.add(s));var u=n.toArray().sort();s&&-1===u.indexOf(s)&&u.push(s);r.toArray().sort();var f=n.size+r.size+(s?1:0);if(!a)return o.a.createElement(A.a,null);var h=0,m=c.map(function(t){e.props.lowVolumeMarkets.get(t[1]+"_"+t[0])||e.props.lowVolumeMarkets.get(t[0]+"_"+t[1]);var n="";return++h>15?n+=" show-for-"+(f?"large":"xlarge"):h>12&&(n+=" show-for-"+(f?"medium":"large")),o.a.createElement(R,{key:t[0]+"_"+t[1],marketId:t[1]+"_"+t[0],new:-1!==l.indexOf(t[1]),className:n,quote:t[0],base:t[1],invert:t[2],isLowVolume:!1,hide:h>29})}).filter(function(e){return!!e});if(!f)return o.a.createElement(U.a,null);return o.a.createElement("div",{ref:"wrapper",className:"grid-block vertical"},o.a.createElement("div",{ref:"container",className:"grid-container",style:{padding:"2rem 8px"}},this.props.onlyAccounts?null:o.a.createElement("div",{className:"block-content-header",style:{marginBottom:15,paddingTop:0}},o.a.createElement(p.a,{content:"exchange.featured"})),this.props.onlyAccounts?null:o.a.createElement("div",{className:"grid-block small-up-1 medium-up-3 large-up-4 no-overflow fm-outer-container"},m)))}}]),t}(),M=function(e){return o.a.createElement(C,e)},N=M=Object(v.connect)(M,{listenTo:function(){return[s.a]},getProps:function(){return{viewSettings:s.a.getState().viewSettings}}}),q=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var L=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.a.Component),q(t,[{key:"render",value:function(){return o.a.createElement(l.a,{stores:[a.a,s.a,i.a],inject:{linkedAccounts:function(){return a.a.getState().linkedAccounts},myHiddenAccounts:function(){return a.a.getState().myHiddenAccounts},accountsReady:function(){return a.a.getState().accountsLoaded&&a.a.getState().refsLoaded},passwordAccount:function(){return a.a.getState().passwordAccount},lowVolumeMarkets:function(){return i.a.getState().lowVolumeMarkets},currentEntry:s.a.getState().viewSettings.get("dashboardEntry","accounts")}},o.a.createElement(N,this.props))}}]),t}();t.default=L}}]);