{"version":3,"file":"explorer.72905eebb57a4e7bdb4b.js","sources":["webpack:///explorer.72905eebb57a4e7bdb4b.js"],"sourcesContent":["(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1747:function(e,t,n){\"use strict\";n.d(t,\"b\",function(){return E}),n.d(t,\"a\",function(){return y});var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(5),s=n.n(l),c=n(33),u=n(22),m=n(21),p=n(16),f=n.n(p),d=n(2054),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function b(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function g(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function v(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(e){function t(){return b(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v(t,r.a.Component),h(t,[{key:\"render\",value:function(){var e=this.props,t=e.isActive,n=e.index,a=e.changeTab,o=e.title,i=e.className,l=e.updatedTab,c=e.disabled,u=e.subText,m=s()({\"is-active\":t},i);return\"string\"==typeof o&&o.indexOf(\".\")>0&&(o=f.a.translate(o)),this.props.collapsed?(\"string\"==typeof u&&(u=u.trim()),r.a.createElement(\"option\",{value:n,\"data-is-link-to\":this.props.isLinkTo},r.a.createElement(\"span\",{className:\"tab-title\"},o,l?\"*\":\"\",u&&\" (\",u&&u,u&&\")\"))):r.a.createElement(\"li\",{className:m,onClick:c?null:a.bind(this,n,this.props.isLinkTo)},r.a.createElement(\"a\",null,r.a.createElement(\"span\",{className:\"tab-title\"},o,l?\"*\":\"\"),u&&r.a.createElement(\"div\",{className:\"tab-subtext\"},u)))}}]),t}();y.propTypes={changeTab:i.a.func,isActive:i.a.bool.isRequired,index:i.a.number.isRequired,className:i.a.string,isLinkTo:i.a.string,subText:i.a.oneOfType([i.a.object,i.a.string])},y.defaultProps={isActive:!1,index:0,className:\"\",isLinkTo:\"\",subText:null};var E=function(e){function t(e){b(this,t);var n=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={activeTab:e.setting?e.viewSettings.get(e.setting,e.defaultActiveTab):e.defaultActiveTab,width:window.innerWidth},n._setDimensions=n._setDimensions.bind(n),n}return v(t,r.a.Component),h(t,[{key:\"componentDidMount\",value:function(){this._setDimensions(),window.addEventListener(\"resize\",this._setDimensions,{capture:!1,passive:!0})}},{key:\"componentWillReceiveProps\",value:function(e){var t=e.viewSettings.get(e.setting);t!==this.props.viewSettings.get(this.props.setting)&&this.setState({activeTab:t})}},{key:\"componentWillUnmount\",value:function(){window.removeEventListener(\"resize\",this._setDimensions)}},{key:\"_setDimensions\",value:function(){var e=window.innerWidth;e!==this.state.width&&this.setState({width:e})}},{key:\"_changeTab\",value:function(e,t){e!==this.state.activeTab&&(\"\"!==t&&this.props.history.push(t),this.props.setting&&u.a.changeViewSetting(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.setting,e)),this.setState({activeTab:e}),this.props.onChangeTab&&this.props.onChangeTab(e))}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.children,a=t.contentClass,o=t.tabsClass,i=t.style,l=t.segmented,c=this.state.width<900&&r.a.Children.count(n)>2,u=null,m=r.a.Children.map(n,function(t,n){if(!t)return null;if(c&&t.props.disabled)return null;var a=n===e.state.activeTab;return a&&(u=t.props.children),r.a.cloneElement(t,{collapsed:c,isActive:a,changeTab:e._changeTab.bind(e),index:n})}).filter(function(e){return null!==e});return u||(u=m[0].props.children),r.a.createElement(\"div\",{className:s()(this.props.actionButtons?\"with-buttons\":\"\",this.props.className)},r.a.createElement(\"div\",{className:\"service-selector\"},r.a.createElement(\"ul\",{style:i,className:s()(\"button-group no-margin\",o,{segmented:l})},c?r.a.createElement(\"li\",{style:{paddingLeft:10,paddingRight:10,minWidth:\"15rem\"}},r.a.createElement(\"select\",{value:this.state.activeTab,style:{marginTop:10,marginBottom:10},className:\"bts-select\",onChange:function(t){var n=parseInt(t.target.value,10);e._changeTab(n,t.target[n].attributes[\"data-is-link-to\"].value)}},m)):m,this.props.actionButtons?r.a.createElement(\"li\",{className:\"tabs-action-buttons\"},this.props.actionButtons):null)),r.a.createElement(\"div\",{className:s()(\"tab-content\",a)},u))}}]),t}();E.propTypes={setting:i.a.string,defaultActiveTab:i.a.number,segmented:i.a.bool},E.defaultProps={active:0,defaultActiveTab:0,segmented:!0,contentClass:\"\",style:{}},E=Object(c.connect)(E,{listenTo:function(){return[m.a]},getProps:function(){return{viewSettings:m.a.getState().viewSettings}}}),E=Object(d.a)(E)},1772:function(e,t,n){\"use strict\";var a=n(0),r=n.n(a),o=n(267),i=n(16),l=n.n(i),s=n(1752),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={page:1,pageSize:e.pageSize},n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),c(t,[{key:\"onChange\",value:function(e,t){this.setState({page:e,pageSize:t})}},{key:\"render\",value:function(){var e=this,t=this.state,n=t.page,a=t.pageSize,i=this.props,c=i.header,u=i.rows,m=i.extraRow,p=u.length,f=d(n,a);function d(e,t){for(var n=[],a=(e-1)*t;a<Math.min(p,e*t);a++)n.push(u[a]);return n}return!f.length&&p&&(f=d(1,a)),r.a.createElement(\"div\",{className:\"grid-content\",style:this.props.style},r.a.createElement(\"table\",{className:this.props.className},c?r.a.createElement(\"thead\",null,c):null,this.props.withTransition&&1===n?r.a.createElement(s.a,{component:\"tbody\",transitionName:\"newrow\"},f,m):r.a.createElement(\"tbody\",null,f,m)),p>a?r.a.createElement(o.a,{style:{paddingTop:\"1rem\",paddingBottom:\"1rem\",paddingLeft:this.props.leftPadding||null},total:p,showTotal:function(t){return l.a.translate(e.props.label,{count:t})},pageSize:a,current:n,onChange:this.onChange.bind(this)}):null,this.props.children)}}]),t}();u.defaultProps={rows:[],pageSize:15,label:\"utility.total_x_items\",className:\"table\",extraRow:null,style:{paddingBottom:\"1rem\"}},t.a=u},1797:function(e,t,n){\"use strict\";var a=n(0),r=n.n(a),o=n(36),i=n(46),l=n(138),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),s(t,[{key:\"render\",value:function(){var e=this.props.witness.get(\"witness_account\");return r.a.createElement(l.a,{account:e})}}]),t}();c.propTypes={witness:o.a.ChainObject.isRequired},c=Object(i.a)(c),t.a=c},1919:function(e,t,n){},2047:function(e,t,n){\"use strict\";n.r(t);var a=n(0),r=n.n(a),o=n(1747),i=n(11),l=n.n(i),s=n(332),c=n(36),u=n(46),m=n(10),p=n(30),f=n(3),d=n.n(f),h=n(521),b=n(33),g=n(22),v=n(21),y=n(5),E=n.n(y),_=n(2054),k=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function w(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function O(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function x(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(1919);var j=function(e){function t(){return w(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return x(t,r.a.Component),k(t,[{key:\"_onCardClick\",value:function(e){e.preventDefault(),this.props.history.push(\"/account/\"+this.props.witness.get(\"name\"))}},{key:\"render\",value:function(){var e=m.ChainStore.getWitnessById(this.props.witness.get(\"id\"));if(!e)return null;var t=e.get(\"total_votes\"),n=e.get(\"last_aslot\"),a={};a=this.props.most_recent-n>100?{borderLeft:\"1px solid #FCAB53\"}:{borderLeft:\"1px solid #50D2C2\"};var o=new Date(Date.now()-(this.props.most_recent-n)*m.ChainStore.getObject(\"2.0.0\").getIn([\"parameters\",\"block_interval\"])*1e3);return r.a.createElement(\"div\",{className:\"grid-content account-card\",onClick:this._onCardClick.bind(this)},r.a.createElement(\"div\",{className:\"card\",style:a},r.a.createElement(\"h4\",{className:\"text-center\"},\"#\",this.props.rank,\": \",this.props.witness.get(\"name\")),r.a.createElement(\"div\",{className:\"card-content\"},r.a.createElement(\"div\",{className:\"text-center\"},r.a.createElement(s.a,{account:this.props.witness.get(\"name\"),size:{height:64,width:64}})),r.a.createElement(\"br\",null),r.a.createElement(\"table\",{className:\"table key-value-table\"},r.a.createElement(\"tbody\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,\"Votes\"),r.a.createElement(\"td\",null,r.a.createElement(p.a,{amount:t,asset:\"1.3.0\",decimalOffset:5}))),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,\"Last Block\"),r.a.createElement(\"td\",null,r.a.createElement(h.a,{time:new Date(o)}))),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,\"Missed\"),r.a.createElement(\"td\",null,e.get(\"total_missed\"))))))))}}]),t}();j.propTypes={witness:c.a.ChainAccount.isRequired},j=Object(u.a)(j),j=Object(_.a)(j);var C=function(e){function t(){return w(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return x(t,r.a.Component),k(t,[{key:\"_onRowClick\",value:function(e){e.preventDefault(),this.props.history.push(\"/account/\"+this.props.witness.get(\"name\"))}},{key:\"render\",value:function(){var e=this.props,t=e.witness,n=e.isCurrent,a=e.rank,o=m.ChainStore.getWitnessById(this.props.witness.get(\"id\"));if(!o)return null;o.get(\"total_votes\");var i=o.get(\"last_aslot\"),l={};l=this.props.most_recent-i>100?{borderLeft:\"1px solid #FCAB53\"}:{borderLeft:\"1px solid #50D2C2\"};var s=new Date(Date.now()-(this.props.most_recent-i)*m.ChainStore.getObject(\"2.0.0\").getIn([\"parameters\",\"block_interval\"])*1e3),c=n?\"active-witness\":\"\",u=o.get(\"total_missed\"),f=E()(\"txtlabel\",{success:u<=500},{info:u>500&&u<=1250},{warning:u>1250&&u<=2e3},{error:u>=200});return r.a.createElement(\"tr\",{className:c,onClick:this._onRowClick.bind(this)},r.a.createElement(\"td\",null,a),r.a.createElement(\"td\",{style:l},t.get(\"name\")),r.a.createElement(\"td\",null,r.a.createElement(h.a,{time:new Date(s)})),r.a.createElement(\"td\",null,o.get(\"last_confirmed_block_num\")),r.a.createElement(\"td\",{className:f},u),r.a.createElement(\"td\",null,r.a.createElement(p.a,{amount:o.get(\"total_votes\"),asset:\"1.3.0\",decimalOffset:5})))}}]),t}();C.propTypes={witness:c.a.ChainAccount.isRequired},C=Object(u.a)(C),C=Object(_.a)(C);var N=function(e){function t(){w(this,t);var e=O(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={sortBy:\"rank\",inverseSort:!0},e}return x(t,r.a.Component),k(t,[{key:\"_setSort\",value:function(e){this.setState({sortBy:e,inverseSort:e===this.state.sortBy?!this.state.inverseSort:this.state.inverseSort})}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.witnesses,a=t.current,o=t.cardView,i=t.witnessList,l=this.state,s=l.sortBy,c=l.inverseSort,u=0,p={};n.filter(function(e){return!!e&&-1!==i.indexOf(e.get(\"id\"))}).sort(function(e,t){if(e&&t)return parseInt(t.get(\"total_votes\"),10)-parseInt(e.get(\"total_votes\"),10)}).forEach(function(e,t){if(e){var n=e.get(\"last_aslot\");u<n&&(u=n),p[e.get(\"id\")]=t+1}});var f=null;return n.length>0&&n[1]&&(f=n.filter(function(t){if(!t)return!1;var n=m.ChainStore.getObject(t.get(\"witness_account\"));if(!n)return!1;var a=n.get(\"name\");return!!a&&-1!==a.indexOf(e.props.filter)}).sort(function(e,t){var n=m.ChainStore.getObject(e.get(\"witness_account\")),a=m.ChainStore.getObject(t.get(\"witness_account\"));if(!n||!a)return 0;switch(s){case\"name\":return n.get(\"name\")>a.get(\"name\")?c?1:-1:n.get(\"name\")<a.get(\"name\")?c?-1:1:0;case\"rank\":return c?p[e.get(\"id\")]-p[t.get(\"id\")]:p[t.get(\"id\")]-p[e.get(\"id\")];default:return c?parseInt(e.get(s),10)-parseInt(t.get(s),10):parseInt(t.get(s),10)-parseInt(e.get(s),10)}}).map(function(t){return o?r.a.createElement(j,{key:t.get(\"id\"),rank:p[t.get(\"id\")],witness:t.get(\"witness_account\"),most_recent:e.props.current_aslot}):r.a.createElement(C,{key:t.get(\"id\"),rank:p[t.get(\"id\")],isCurrent:a===t.get(\"id\"),witness:t.get(\"witness_account\"),most_recent:e.props.current_aslot})})),o?r.a.createElement(\"div\",{className:\"grid-block small-up-1 medium-up-2 large-up-3\"},f):r.a.createElement(\"table\",{className:\"table table-hover\"},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",{className:\"clickable\",onClick:this._setSort.bind(this,\"rank\")},r.a.createElement(d.a,{content:\"explorer.witnesses.rank\"})),r.a.createElement(\"th\",{className:\"clickable\",onClick:this._setSort.bind(this,\"name\")},r.a.createElement(d.a,{content:\"account.votes.name\"})),r.a.createElement(\"th\",{className:\"clickable\",onClick:this._setSort.bind(this,\"last_aslot\")},r.a.createElement(d.a,{content:\"explorer.blocks.last_block\"})),r.a.createElement(\"th\",{className:\"clickable\",onClick:this._setSort.bind(this,\"last_confirmed_block_num\")},r.a.createElement(d.a,{content:\"explorer.witnesses.last_confirmed\"})),r.a.createElement(\"th\",{className:\"clickable\",onClick:this._setSort.bind(this,\"total_missed\")},r.a.createElement(d.a,{content:\"explorer.witnesses.missed\"})),r.a.createElement(\"th\",{className:\"clickable\",onClick:this._setSort.bind(this,\"total_votes\")},r.a.createElement(d.a,{content:\"account.votes.votes\"})))),r.a.createElement(\"tbody\",null,f))}}]),t}();N.propTypes={witnesses:c.a.ChainObjectsList.isRequired},N=Object(u.a)(N,{show_loader:!0});var S=function(e){function t(e){w(this,t);var n=O(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={filterWitness:e.filterWitness||\"\",cardView:e.cardView},n}return x(t,r.a.Component),k(t,[{key:\"_onFilter\",value:function(e){e.preventDefault(),this.setState({filterWitness:e.target.value.toLowerCase()}),g.a.changeViewSetting({filterWitness:e.target.value.toLowerCase()})}},{key:\"_toggleView\",value:function(){g.a.changeViewSetting({cardView:!this.state.cardView}),this.setState({cardView:!this.state.cardView})}},{key:\"render\",value:function(){var e=this.props,t=e.dynGlobalObject,n=e.globalObject;t=t.toJS(),n=n.toJS();var a=m.ChainStore.getObject(t.current_witness),o=null;return a&&(o=m.ChainStore.getObject(a.get(\"witness_account\"))),r.a.createElement(\"div\",{className:\"grid-block\"},r.a.createElement(\"div\",{className:\"grid-block\"},r.a.createElement(\"div\",{className:\"grid-block vertical small-5 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content\"},r.a.createElement(\"br\",null),r.a.createElement(\"table\",{className:\"table key-value-table\"},r.a.createElement(\"tbody\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,r.a.createElement(d.a,{content:\"explorer.witnesses.current\"})),r.a.createElement(\"td\",null,o?o.get(\"name\"):null)),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,r.a.createElement(d.a,{content:\"explorer.blocks.active_witnesses\"})),r.a.createElement(\"td\",null,Object.keys(n.active_witnesses).length)),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,r.a.createElement(d.a,{content:\"explorer.witnesses.participation\"})),r.a.createElement(\"td\",null,t.participation,\"%\")),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,r.a.createElement(d.a,{content:\"explorer.witnesses.pay\"})),r.a.createElement(\"td\",null,r.a.createElement(p.a,{amount:n.parameters.witness_pay_per_block,asset:\"1.3.0\"}))),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,r.a.createElement(d.a,{content:\"explorer.witnesses.budget\"})),r.a.createElement(\"td\",null,\" \",r.a.createElement(p.a,{amount:t.witness_budget,asset:\"1.3.0\"}))),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,r.a.createElement(d.a,{content:\"explorer.witnesses.next_vote\"})),r.a.createElement(\"td\",null,\" \",r.a.createElement(h.a,{time:new Date(t.next_maintenance_time+\"Z\")}))),r.a.createElement(\"tr\",null,r.a.createElement(\"td\",null,\" \",r.a.createElement(d.a,{component:\"h4\",content:\"markets.filter\"}),\" \"),r.a.createElement(\"td\",null,\" \",r.a.createElement(\"input\",{type:\"text\",value:this.state.filterWitness,onChange:this._onFilter.bind(this)}),\" \")))),r.a.createElement(\"div\",{className:\"view-switcher\"},r.a.createElement(\"span\",{className:\"button outline\",onClick:this._toggleView.bind(this)},this.state.cardView?r.a.createElement(d.a,{content:\"explorer.witnesses.table\"}):r.a.createElement(d.a,{content:\"explorer.witnesses.card\"}))))),r.a.createElement(\"div\",{className:\"grid-block\"},r.a.createElement(\"div\",{className:\"grid-content \"},r.a.createElement(N,{current_aslot:t.current_aslot,current:a?a.get(\"id\"):null,witnesses:l.a.List(n.active_witnesses),witnessList:n.active_witnesses,filter:this.state.filterWitness,cardView:this.state.cardView})))))}}]),t}();S.propTypes={globalObject:c.a.ChainObject.isRequired,dynGlobalObject:c.a.ChainObject.isRequired},S.defaultProps={globalObject:\"2.0.0\",dynGlobalObject:\"2.1.0\"},S=Object(u.a)(S);var T=function(e){function t(){return w(this,t),O(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return x(t,r.a.Component),k(t,[{key:\"render\",value:function(){return r.a.createElement(S,this.props)}}]),t}(),P=T=Object(b.connect)(T,{listenTo:function(){return[v.a]},getProps:function(){return{cardView:v.a.getState().viewSettings.get(\"cardView\"),filterWitness:v.a.getState().viewSettings.get(\"filterWitness\")}}}),A=n(310),D=n.n(A),B=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function L(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function R(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function I(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var M=function(e){function t(){return L(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return I(t,r.a.Component),B(t,[{key:\"_onCardClick\",value:function(e){e.preventDefault(),this.props.history.push(\"/account/\"+this.props.committee_member.get(\"name\"))}},{key:\"render\",value:function(){var e=m.ChainStore.getCommitteeMemberById(this.props.committee_member.get(\"id\"));return e?r.a.createElement(\"div\",{className:\"grid-content account-card\",onClick:this._onCardClick.bind(this)},r.a.createElement(\"div\",{className:\"card\"},r.a.createElement(\"h4\",{className:\"text-center\"},this.props.committee_member.get(\"name\")),r.a.createElement(\"div\",{className:\"card-content clearfix\"},r.a.createElement(\"div\",{className:\"float-left\"},r.a.createElement(s.a,{account:this.props.committee_member.get(\"name\"),size:{height:64,width:64}})),r.a.createElement(\"ul\",{className:\"balances\"},r.a.createElement(\"li\",null,r.a.createElement(d.a,{content:\"account.votes.votes\"}),\":\",\" \",r.a.createElement(p.a,{decimalOffset:5,amount:e.get(\"total_votes\"),asset:\"1.3.0\"})))))):null}}]),t}();M.propTypes={committee_member:c.a.ChainAccount.isRequired},M=Object(u.a)(M),M=Object(_.a)(M);var V=function(e){function t(){return L(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return I(t,r.a.Component),B(t,[{key:\"_onRowClick\",value:function(e){e.preventDefault(),this.props.history.push(\"/account/\"+this.props.committee_member.get(\"name\"))}},{key:\"render\",value:function(){var e=this.props,t=e.committee_member,n=e.rank,a=m.ChainStore.getCommitteeMemberById(t.get(\"id\"));if(!a)return null;var o=a.get(\"url\");return o=(o=D()(o,{whiteList:[],stripIgnoreTag:!0}))&&o.length>0&&-1===o.indexOf(\"http\")?\"http://\"+o:o,r.a.createElement(\"tr\",null,r.a.createElement(\"td\",{onClick:this._onRowClick.bind(this)},n),r.a.createElement(\"td\",{onClick:this._onRowClick.bind(this)},t.get(\"name\")),r.a.createElement(\"td\",{onClick:this._onRowClick.bind(this)},r.a.createElement(p.a,{amount:a.get(\"total_votes\"),asset:\"1.3.0\"})),r.a.createElement(\"td\",null,r.a.createElement(\"a\",{href:o,rel:\"noopener noreferrer\",target:\"_blank\"},a.get(\"url\"))))}}]),t}();V.propTypes={committee_member:c.a.ChainAccount.isRequired},V=Object(u.a)(V),V=Object(_.a)(V);var z=function(e){function t(){L(this,t);var e=R(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={sortBy:\"rank\",inverseSort:!0},e}return I(t,r.a.Component),B(t,[{key:\"_setSort\",value:function(e){this.setState({sortBy:e,inverseSort:e===this.state.sortBy?!this.state.inverseSort:this.state.inverseSort})}},{key:\"render\",value:function(){var e=this,t=this.props,n=t.committee_members,a=t.cardView,o=t.membersList,i=this.state,l=i.sortBy,s=i.inverseSort,c=null,u={};return n.filter(function(e){return!!e&&-1!==o.indexOf(e.get(\"id\"))}).sort(function(e,t){if(e&&t)return parseInt(t.get(\"total_votes\"),10)-parseInt(e.get(\"total_votes\"),10)}).forEach(function(e,t){e&&(u[e.get(\"id\")]=t+1)}),n.length>0&&n[1]&&(c=n.filter(function(t){if(!t)return!1;var n=m.ChainStore.getObject(t.get(\"committee_member_account\"));return!!n&&-1!==n.get(\"name\").indexOf(e.props.filter)}).sort(function(e,t){var n=m.ChainStore.getObject(e.get(\"committee_member_account\")),a=m.ChainStore.getObject(t.get(\"committee_member_account\"));if(!n||!a)return 0;switch(l){case\"name\":return n.get(\"name\")>a.get(\"name\")?s?1:-1:n.get(\"name\")<a.get(\"name\")?s?-1:1:0;case\"rank\":return s?u[e.get(\"id\")]-u[t.get(\"id\")]:u[t.get(\"id\")]-u[e.get(\"id\")];default:return s?parseInt(e.get(l),10)-parseInt(t.get(l),10):parseInt(t.get(l),10)-parseInt(e.get(l),10)}}).map(function(e){return a?r.a.createElement(M,{key:e.get(\"id\"),rank:u[e.get(\"id\")],committee_member:e.get(\"committee_member_account\")}):r.a.createElement(V,{key:e.get(\"id\"),rank:u[e.get(\"id\")],committee_member:e.get(\"committee_member_account\")})})),a?r.a.createElement(\"div\",{className:\"grid-block no-margin small-up-1 medium-up-2 large-up-3\"},c):r.a.createElement(\"table\",{className:\"table table-hover\"},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",{className:\"clickable\",onClick:this._setSort.bind(this,\"rank\")},r.a.createElement(d.a,{content:\"explorer.witnesses.rank\"})),r.a.createElement(\"th\",{className:\"clickable\",onClick:this._setSort.bind(this,\"name\")},r.a.createElement(d.a,{content:\"account.votes.name\"})),r.a.createElement(\"th\",{className:\"clickable\",onClick:this._setSort.bind(this,\"total_votes\")},r.a.createElement(d.a,{content:\"account.votes.votes\"})),r.a.createElement(\"th\",null,r.a.createElement(d.a,{content:\"account.votes.url\"})))),r.a.createElement(\"tbody\",null,c))}}]),t}();z.propTypes={committee_members:c.a.ChainObjectsList.isRequired},z=Object(u.a)(z,{show_loader:!0});var W=function(e){function t(e){L(this,t);var n=R(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={filterCommitteeMember:e.filterCommitteeMember||\"\",cardView:e.cardView},n}return I(t,r.a.Component),B(t,[{key:\"shouldComponentUpdate\",value:function(e,t){return!l.a.is(e.globalObject,this.props.globalObject)||t.filterCommitteeMember!==this.state.filterCommitteeMember||t.cardView!==this.state.cardView}},{key:\"_onFilter\",value:function(e){e.preventDefault(),this.setState({filterCommitteeMember:e.target.value.toLowerCase()}),g.a.changeViewSetting({filterCommitteeMember:e.target.value.toLowerCase()})}},{key:\"_toggleView\",value:function(){g.a.changeViewSetting({cardViewCommittee:!this.state.cardView}),this.setState({cardView:!this.state.cardView})}},{key:\"render\",value:function(){var e=this.props.globalObject;e=e.toJS();var t=[];for(var n in e.active_committee_members)e.active_committee_members.hasOwnProperty(n)&&t.push(e.active_committee_members[n]);return r.a.createElement(\"div\",{className:\"grid-block\"},r.a.createElement(\"div\",{className:\"grid-block vertical medium-horizontal\"},r.a.createElement(\"div\",{className:\"grid-block shrink\"},r.a.createElement(\"div\",{className:\"grid-content\"},r.a.createElement(\"h5\",null,r.a.createElement(d.a,{content:\"explorer.committee_members.active\"}),\":\",\" \",Object.keys(e.active_committee_members).length),r.a.createElement(\"br\",null),r.a.createElement(\"div\",{className:\"view-switcher\"},r.a.createElement(\"span\",{className:\"button outline\",onClick:this._toggleView.bind(this)},this.state.cardView?r.a.createElement(d.a,{content:\"explorer.witnesses.table\"}):r.a.createElement(d.a,{content:\"explorer.witnesses.card\"}))))),r.a.createElement(\"div\",{className:\"grid-block vertical\"},r.a.createElement(\"div\",{className:\"grid-block vertical shrink\"},r.a.createElement(d.a,{component:\"h3\",content:\"markets.filter\"}),r.a.createElement(\"input\",{type:\"text\",value:this.state.filterCommitteeMember,onChange:this._onFilter.bind(this)})),r.a.createElement(\"div\",{className:\"grid-content\"},r.a.createElement(z,{committee_members:l.a.List(e.active_committee_members),membersList:e.active_committee_members,filter:this.state.filterCommitteeMember,cardView:this.state.cardView})))))}}]),t}();W.propTypes={globalObject:c.a.ChainObject.isRequired},W.defaultProps={globalObject:\"2.0.0\"},W=Object(u.a)(W);var F=function(e){function t(){return L(this,t),R(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return I(t,r.a.Component),B(t,[{key:\"render\",value:function(){return r.a.createElement(W,this.props)}}]),t}(),U=F=Object(b.connect)(F,{listenTo:function(){return[v.a]},getProps:function(){return{cardView:v.a.getState().viewSettings.get(\"cardViewCommittee\"),filterCommitteeMember:v.a.getState().viewSettings.get(\"filterCommitteeMember\")}}}),H=n(125),q=n.n(H),G=n(16),J=n.n(G),Z=n(516),K=n(1762),Q=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function X(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Y(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function $(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ee=m.ChainTypes.operations,te=Object.keys(ee),ne={general:[0,25,26,27,28,32,33,37,39,40,41],asset:[10,11,12,13,14,15,16,17,18,19,38,42,43,44,47,48],market:[1,2,3,4,45,46],account:[5,6,7,8,9],business:[20,21,22,23,24,29,30,31,34,35,36]},ae=[5,7,20,21,34],re=function(e){function t(e){return X(this,t),Y(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return $(t,r.a.Component),Q(t,[{key:\"shouldComponentUpdate\",value:function(e){return!l.a.is(e.globalObject,this.props.globalObject)}},{key:\"render\",value:function(){var e=this.props,t=e.globalObject,n=e.settings,a=e.opIds;e.title;t=t.toJSON();var o=m.ChainStore.getAsset(\"1.3.0\"),i=t.parameters.current_fees,l=t.parameters.network_percent_of_fee/1e4,s=i.scale,c=i.parameters,u=n.get(\"unit\")||o.get(\"symbol\"),f=J.a.translate(\"transaction.trxTypes\"),h=a.map(function(e){var t=c.findIndex(function(t){return t[0]===e});if(-1!==t){var n=c[t],a=n[0],o=n[1],i=te[a],m=f[i],d=l;10===a&&(d=.5+.5*l);var h=[],b=!1,g=E()(\"label\",\"info\");for(var v in o){var y=o[v]*s/1e4,_=y*d,k=J.a.translate(\"transaction.feeTypes\"),w=y?r.a.createElement(p.a,{amount:y,asset:\"1.3.0\"}):k._none,O=y?r.a.createElement(K.b,{fromAsset:\"1.3.0\",fullPrecision:!0,amount:y,toAsset:u,fullDecimals:!0}):k._none,x=_?r.a.createElement(p.a,{amount:_,asset:\"1.3.0\"}):k._none,j=_?r.a.createElement(K.b,{fromAsset:\"1.3.0\",fullPrecision:!0,amount:_,toAsset:u,fullDecimals:!0}):k._none,C=null;b||(b=!0,C=r.a.createElement(\"td\",{rowSpan:\"6\",style:{width:\"15em\"}},r.a.createElement(\"span\",{className:g},m))),ae.indexOf(a)<0?h.push(r.a.createElement(\"tr\",{key:a.toString()+v,className:\"Annual Membership\"===k[v]?\"linethrough\":\"\"},C,r.a.createElement(\"td\",null,k[v]),r.a.createElement(\"td\",{style:{textAlign:\"right\"}},w,0!==y&&\"BTS\"!==u?r.a.createElement(\"span\",null,\" / \",O):null),r.a.createElement(\"td\",{style:{textAlign:\"right\"}},8!==t?x:null,8!==t&&0!==y&&\"BTS\"!==u?r.a.createElement(\"span\",null,\" / \",j):null))):h.push(r.a.createElement(\"tr\",{key:a.toString()+v},C,r.a.createElement(\"td\",null,k[v]),r.a.createElement(\"td\",{style:{textAlign:\"right\"}},\"- \",r.a.createElement(\"sup\",null,\"*\")),r.a.createElement(\"td\",{style:{textAlign:\"right\"}},x,0!==y&&\"BTS\"!==u?r.a.createElement(\"span\",null,\" / \",j):null)))}return r.a.createElement(\"tbody\",{key:t},h)}console.warn(\"Asking for non-existing fee id %d! Check group settings in Fees.jsx\",e)});return r.a.createElement(\"div\",{className:\"asset-card\"},r.a.createElement(\"div\",{className:\"card-divider\"},this.props.title),r.a.createElement(\"table\",{className:\"table\"},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null,r.a.createElement(d.a,{content:\"explorer.block.op\"})),r.a.createElement(\"th\",null,r.a.createElement(d.a,{content:\"explorer.fees.type\"})),r.a.createElement(\"th\",{style:{textAlign:\"right\"}},r.a.createElement(d.a,{content:\"explorer.fees.fee\"})),r.a.createElement(\"th\",{style:{textAlign:\"right\"}},r.a.createElement(d.a,{content:\"explorer.fees.feeltm\"})))),h))}}]),t}();re.propTypes={globalObject:c.a.ChainObject.isRequired},re.defaultProps={globalObject:\"2.0.0\"},re=Object(u.a)(re);var oe=function(e){function t(){return X(this,t),Y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return $(t,r.a.Component),Q(t,[{key:\"render\",value:function(){var e=J.a.translate(\"transaction.feeGroups\"),t=[];for(var n in ne){var a=e[n],o=ne[n];t.push(r.a.createElement(re,{key:n,settings:this.props.settings,opIds:o,title:a}))}return r.a.createElement(\"div\",{className:\"grid-block vertical\",style:{overflow:\"visible\"}},r.a.createElement(\"div\",{className:\"grid-block small-12 shrink\",style:{overflow:\"visible\"}},r.a.createElement(Z.a,{path:\"components/Fees\"})),r.a.createElement(\"div\",{className:\"grid-block small-12 \",style:{overflow:\"visible\"}},r.a.createElement(\"div\",{className:\"grid-content\"},t)))}}]),t}(),ie=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var le=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),ie(t,[{key:\"render\",value:function(){return r.a.createElement(q.a,{stores:[v.a],inject:{settings:v.a.getState().settings}},r.a.createElement(oe,this.props))}}]),t}(),se=n(132),ce=n(2037),ue=n(237),me=n(87),pe=n(529),fe=n(1797),de=n(115),he=n(1783),be=n.n(he),ge=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var ve=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),ge(t,[{key:\"shouldComponentUpdate\",value:function(e){if(e.blocks.size<20)return!1;var t=this.refs.trx_chart?this.refs.trx_chart.chart:null;if(t&&e.blocks!==this.props.blocks){var n=this._getData(e),a=n.trxData,r=n.colors,o=t.series[0],i=o.xData[o.xData.length-1];if(o.xData.length)return a.forEach(function(e){e[0]>i&&o.addPoint(e,!1,o.xData.length>=30)}),t.options.plotOptions.column.colors=r,t.redraw(),!1}return e.blocks!==this.props.blocks||e.head_block!==this.props.head_block}},{key:\"_getData\",value:function(e){var t=e.blocks,n=e.head_block,a=[],r=0;return{colors:(a=t.filter(function(e){return e.id>=n-30}).sort(function(e,t){return e.id-t.id}).takeLast(30).map(function(e){return r=Math.max(e.transactions.length,r),[e.id,e.transactions.length]}).toArray()).map(function(e){return e[1]<=5?\"#50D2C2\":e[1]<=10?\"#A0D3E8\":e[1]<=20?\"#FCAB53\":\"#deb869\"}),trxData:a,max:r}}},{key:\"render\",value:function(){var e=this._getData(this.props),t=e.trxData,n=e.colors,a=e.max,o=J.a.translate(\"explorer.blocks.transactions\"),i={chart:{type:\"column\",backgroundColor:\"rgba(255, 0, 0, 0)\",spacing:[0,0,5,0],height:100},title:{text:null},credits:{enabled:!1},legend:{enabled:!1},rangeSelector:{enabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},tooltip:{shared:!1,formatter:function(){return o+\": \"+this.y}},series:[{name:\"Transactions\",data:t,color:\"#50D2C2\"}],xAxis:{labels:{enabled:!1},title:{text:null}},yAxis:{min:0,max:Math.max(1.5,a+.5),title:{text:null},labels:{enabled:!1},gridLineWidth:0,currentPriceIndicator:{enabled:!1}},plotOptions:{column:{animation:!0,minPointLength:5,colorByPoint:!0,colors:n,borderWidth:0}}};return t.length?r.a.createElement(be.a,{ref:\"trx_chart\",config:i}):null}}]),t}(),ye=n(591),Ee=n(508);var _e=function(e,t,n){var a=null==e?0:e.length;return a?(t=a-(t=n||void 0===t?1:Object(Ee.a)(t)),Object(ye.a)(e,t<0?0:t,a)):[]},ke=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var we=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),ke(t,[{key:\"shouldComponentUpdate\",value:function(e){if(e.blockTimes.length<19)return!1;if(0===this.props.blockTimes.length)return!0;var t=this.refs.chart?this.refs.chart.chart:null;if(t){var n=this._getData(e),a=n.blockTimes,r=n.colors,o=t.series[0],i=o.xData[o.xData.length-1];if(o.xData.length)return a.forEach(function(e){e[0]>i&&o.addPoint(e,!1,o.xData.length>=30)}),t.options.plotOptions.column.colors=r,t.redraw(),!1}return e.blockTimes[e.blockTimes.length-1][0]!==this.props.blockTimes[this.props.blockTimes.length-1][0]||e.blockTimes.length!==this.props.blockTimes.length}},{key:\"_getData\",value:function(){var e=this.props,t=e.blockTimes,n=e.head_block;return t.filter(function(e){return e[0]>=n-30}),t&&t.length&&(t=_e(t,30)),{blockTimes:t,colors:t.map(function(e){return e[1]<=5?\"#50D2C2\":e[1]<=10?\"#A0D3E8\":e[1]<=20?\"#FCAB53\":\"#deb869\"})}}},{key:\"render\",value:function(){var e=this._getData(this.props),t=e.blockTimes,n=e.colors,a=J.a.translate(\"explorer.blocks.block_time\"),o={chart:{type:\"column\",backgroundColor:\"rgba(255, 0, 0, 0)\",spacing:[0,0,5,0],height:100},title:{text:null},credits:{enabled:!1},legend:{enabled:!1},rangeSelector:{enabled:!1},navigator:{enabled:!1},scrollbar:{enabled:!1},tooltip:{shared:!1,formatter:function(){return a+\": \"+this.y+\"s\"}},series:[{name:\"Block time\",data:t,color:\"#50D2C2\"}],xAxis:{labels:{enabled:!1},title:{text:null}},yAxis:{min:0,title:{text:null},labels:{enabled:!1},gridLineWidth:0,currentPriceIndicator:{enabled:!1}},plotOptions:{column:{animation:!0,minPointLength:3,colorByPoint:!0,colors:n,borderWidth:0}}};return t.length?r.a.createElement(be.a,{ref:\"chart\",config:o}):null}}]),t}(),Oe=n(15),xe=n(1756),je=n.n(xe),Ce=n(1752),Ne=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Se(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Te(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function Pe(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n(773);var Ae=function(e){function t(){return Se(this,t),Te(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Pe(t,r.a.Component),Ne(t,[{key:\"shouldComponentUpdate\",value:function(e){return e.blockTime!==this.props.blockTime}},{key:\"render\",value:function(){var e=this.props.blockTime,t=(new Date).getTime()-new Date(e).getTime(),n=E()(\"txtlabel\",{success:t<=6e3},{info:t>6e3&&t<=15e3},{warning:t>15e3&&t<=25e3},{error:t>25e3});return e?r.a.createElement(\"h3\",{className:n},r.a.createElement(h.a,{time:e})):null}}]),t}(),De=function(e){function t(e){Se(this,t);var n=Te(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={animateEnter:!1,operationsHeight:null,blocksHeight:null},n._updateHeight=n._updateHeight.bind(n),n}return Pe(t,r.a.Component),Ne(t,[{key:\"_getBlock\",value:function(e,t){e&&(e=parseInt(e,10),ue.a.getLatest(e,t))}},{key:\"componentWillMount\",value:function(){window.addEventListener(\"resize\",this._updateHeight,{capture:!1,passive:!0})}},{key:\"componentWillUnmount\",value:function(){window.removeEventListener(\"resize\",this._updateHeight)}},{key:\"componentWillReceiveProps\",value:function(e){if(0===e.latestBlocks.size)return this._getInitialBlocks();this.state.animateEnter||this.setState({animateEnter:!0});var t=e.dynGlobalObject.get(\"head_block_number\");return e.latestBlocks.size>=20&&e.dynGlobalObject.get(\"head_block_number\")!==e.latestBlocks.get(0).id?this._getBlock(t,t):void 0}},{key:\"componentDidMount\",value:function(){this._getInitialBlocks();var e=this.refs.operations;je.a.initialize(e);var t=this.refs.blocks;je.a.initialize(t),this._updateHeight()}},{key:\"shouldComponentUpdate\",value:function(e,t){return!l.a.is(e.latestBlocks,this.props.latestBlocks)||!Oe.a.are_equal_shallow(t,this.state)}},{key:\"componentDidUpdate\",value:function(){this._updateHeight()}},{key:\"_getInitialBlocks\",value:function(){var e=parseInt(this.props.dynGlobalObject.get(\"head_block_number\"),10);if(e)for(var t=19;t>=0;t--){var n=!1;if(this.props.latestBlocks.size>0)for(var a=0;a<this.props.latestBlocks.size;a++)if(this.props.latestBlocks.get(a).id===e-t){n=!0;break}n||this._getBlock(e-t,e)}}},{key:\"_updateHeight\",value:function(){var e=this.refs.outerWrapper.offsetHeight,t=this.refs.operationsText.offsetHeight,n=this.refs.blocksText.offsetHeight;this.setState({operationsHeight:e-t,blocksHeight:e-n},this.psUpdate)}},{key:\"psUpdate\",value:function(){var e=this.refs.operations;je.a.update(e);var t=this.refs.blocks;je.a.update(t)}},{key:\"render\",value:function(){var e=this.props,t=e.latestBlocks,n=e.latestTransactions,a=e.globalObject,o=e.dynGlobalObject,i=e.coreAsset,l=this.state,s=l.blocksHeight,c=l.operationsHeight,u=this.props.getDynamicObject(i.get(\"dynamic_asset_data_id\")),m=null,f=null,h=null,b=0,g=t.size,v=0,y=[],E=0;if(t&&t.size>=20){var _=void 0,k=void 0,w=void 0;t.filter(function(e,t){return e.id===o.get(\"head_block_number\")-t}).sort(function(e,t){return e.id-t.id}).forEach(function(e,t){b+=e.transactions.length,t>0?(y.push([e.id,(e.timestamp-_)/1e3]),k=e.timestamp):w=e.timestamp,_=e.timestamp}),m=t.sort(function(e,t){return t.id-e.id}).take(20).map(function(e){return r.a.createElement(\"tr\",{key:e.id},r.a.createElement(\"td\",null,r.a.createElement(ce.a,{to:\"/block/\"+e.id},\"#\",Oe.a.format_number(e.id,0))),r.a.createElement(\"td\",null,r.a.createElement(me.a,{value:e.timestamp,format:\"time\"})),r.a.createElement(\"td\",null,r.a.createElement(fe.a,{witness:e.witness})),r.a.createElement(\"td\",null,Oe.a.format_number(e.transactions.length,0)))}).toArray();var O=0;f=n.sort(function(e,t){return t.block_num-e.block_num}).take(20).map(function(e){var t=0;return e.operations.map(function(n){return O>15?null:r.a.createElement(pe.a,{key:O++,op:n,result:e.operation_results[t++],block:e.block_num,hideFee:!0,hideOpLabel:!1,current:\"1.2.0\",hideDate:!0,hidePending:!0})}).filter(function(e){return!!e})}).toArray(),h=t.first().timestamp,E=y.reduce(function(e,t,n,a){return e+t[1]/a.length},0),v=b/((k-w)/1e3)}return r.a.createElement(\"div\",{ref:\"outerWrapper\",className:\"grid-block vertical\"},r.a.createElement(\"div\",{className:\"align-center grid-block shrink small-horizontal blocks-row\"},r.a.createElement(\"div\",{className:\"grid-block text-center small-6 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content no-overflow\"},r.a.createElement(\"span\",{className:\"txtlabel\"},r.a.createElement(d.a,{component:\"span\",content:\"explorer.blocks.current_block\"})),r.a.createElement(\"h2\",null,\"#\",Oe.a.format_number(o.get(\"head_block_number\"),0)))),r.a.createElement(\"div\",{className:\"grid-block text-center small-6 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content no-overflow\"},r.a.createElement(\"span\",{className:\"txtlabel\"},r.a.createElement(d.a,{component:\"span\",content:\"explorer.blocks.last_block\"})),r.a.createElement(Ae,{blockTime:h}))),r.a.createElement(\"div\",{className:\"grid-block text-center small-6 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content no-overflow\"},r.a.createElement(\"span\",{className:\"txtlabel\"},r.a.createElement(d.a,{component:\"span\",content:\"explorer.blocks.trx_per_sec\"})),r.a.createElement(\"h2\",null,Oe.a.format_number(v,2)))),r.a.createElement(\"div\",{className:\"grid-block text-center small-6 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content no-overflow\"},r.a.createElement(\"span\",{className:\"txtlabel\"},r.a.createElement(d.a,{component:\"span\",content:\"explorer.blocks.avg_conf_time\"})),r.a.createElement(\"h2\",null,Oe.a.format_number(E/2,2),\"s\")))),r.a.createElement(\"div\",{className:\"align-center grid-block shrink small-horizontal  blocks-row\"},r.a.createElement(\"div\",{className:\"grid-block text-center small-6 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content no-overflow clear-fix\"},r.a.createElement(\"span\",{className:\"txtlabel\"},r.a.createElement(d.a,{component:\"span\",content:\"explorer.blocks.active_witnesses\"})),r.a.createElement(\"h2\",{className:\"txtlabel success\"},a.get(\"active_witnesses\").size))),r.a.createElement(\"div\",{className:\"grid-block text-center small-6 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content no-overflow clear-fix\"},r.a.createElement(\"span\",{className:\"txtlabel\"},r.a.createElement(d.a,{component:\"span\",content:\"explorer.blocks.active_committee_members\"})),r.a.createElement(\"h2\",{className:\"txtlabel success\"},a.get(\"active_committee_members\").size))),r.a.createElement(\"div\",{className:\"grid-block text-center small-6 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content no-overflow clear-fix\"},r.a.createElement(\"span\",{className:\"txtlabel\"},r.a.createElement(d.a,{component:\"span\",content:\"explorer.blocks.trx_per_block\"})),r.a.createElement(\"h2\",null,Oe.a.format_number(b/g||0,2)))),r.a.createElement(\"div\",{className:\"grid-block text-center small-6 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content no-overflow clear-fix\"},r.a.createElement(\"span\",{className:\"txtlabel\"},r.a.createElement(d.a,{component:\"span\",content:\"explorer.blocks.recently_missed_blocks\"})),r.a.createElement(\"h2\",{className:\"txtlabel warning\",style:{fontWeight:\"100\"}},o.get(\"recently_missed_count\"))))),r.a.createElement(\"div\",{className:\"align-center grid-block shrink small-vertical medium-horizontal blocks-row\"},r.a.createElement(\"div\",{className:\"grid-block text-center small-12 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content no-overflow clear-fix\"},r.a.createElement(\"span\",{className:\"txtlabel\"},r.a.createElement(d.a,{component:\"span\",content:\"explorer.asset.summary.current_supply\"})),r.a.createElement(\"h3\",{className:\"txtlabel\"},u?r.a.createElement(p.a,{amount:u.get(\"current_supply\"),asset:i.get(\"id\"),decimalOffset:5}):null))),r.a.createElement(\"div\",{className:\"grid-block text-center small-12 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content no-overflow\"},r.a.createElement(\"div\",{className:\"txtlabel\"},r.a.createElement(d.a,{component:\"span\",content:\"explorer.blocks.block_times\"})),r.a.createElement(we,{blockTimes:y,head_block_number:o.get(\"head_block_number\")}))),r.a.createElement(\"div\",{className:\"grid-block text-center small-12 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content no-overflow\"},r.a.createElement(\"div\",{className:\"txtlabel\"},r.a.createElement(d.a,{component:\"span\",content:\"explorer.blocks.trx_per_block\"})),r.a.createElement(ve,{blocks:t,head_block:o.get(\"head_block_number\")}))),r.a.createElement(\"div\",{className:\"grid-block text-center small-12 medium-3\"},r.a.createElement(\"div\",{className:\"grid-content no-overflow clear-fix\"},r.a.createElement(\"span\",{className:\"txtlabel\"},r.a.createElement(d.a,{component:\"span\",content:\"explorer.asset.summary.stealth_supply\"})),r.a.createElement(\"h3\",{className:\"txtlabel\"},u?r.a.createElement(p.a,{amount:u.get(\"confidential_supply\"),asset:i.get(\"id\"),decimalOffset:5}):null)))),r.a.createElement(\"div\",{ref:\"transactionsBlock\",className:\"grid-block no-overflow\"},r.a.createElement(\"div\",{className:\"grid-block small-12 medium-6 vertical no-overflow\",style:{paddingBottom:0}},r.a.createElement(\"div\",{className:\"grid-block vertical no-overflow generic-bordered-box\"},r.a.createElement(\"div\",{ref:\"operationsText\"},r.a.createElement(\"div\",{className:\"block-content-header\"},r.a.createElement(d.a,{content:\"account.recent\"})),r.a.createElement(\"table\",{className:\"table fixed-height-2rem\"},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null,r.a.createElement(d.a,{content:\"account.votes.info\"})))))),r.a.createElement(\"div\",{className:\"grid-block\",style:{maxHeight:c||\"400px\",overflow:\"hidden\"},ref:\"operations\"},r.a.createElement(\"table\",{className:\"table fixed-height-2rem\"},r.a.createElement(\"tbody\",null,f))))),r.a.createElement(\"div\",{className:\"grid-block medium-6 show-for-medium vertical no-overflow\",style:{paddingBottom:0,paddingLeft:5}},r.a.createElement(\"div\",{className:\"grid-block vertical no-overflow generic-bordered-box\"},r.a.createElement(\"div\",{ref:\"blocksText\"},r.a.createElement(\"div\",{className:\"block-content-header\"},r.a.createElement(d.a,{component:\"span\",content:\"explorer.blocks.recent\"}))),r.a.createElement(\"div\",{className:\"grid-block vertical\",style:{maxHeight:s||\"438px\",overflow:\"hidden\"},ref:\"blocks\"},r.a.createElement(\"table\",{className:\"table fixed-height-2rem\"},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null,r.a.createElement(d.a,{component:\"span\",content:\"explorer.block.id\"})),r.a.createElement(\"th\",null,r.a.createElement(d.a,{component:\"span\",content:\"explorer.block.date\"})),r.a.createElement(\"th\",null,r.a.createElement(d.a,{component:\"span\",content:\"explorer.block.witness\"})),r.a.createElement(\"th\",null,r.a.createElement(d.a,{component:\"span\",content:\"explorer.block.count\"})))),r.a.createElement(Ce.a,{component:\"tbody\",transitionName:\"newrow\"},m)))))))}}]),t}();De.propTypes={globalObject:c.a.ChainObject.isRequired,dynGlobalObject:c.a.ChainObject.isRequired},De.defaultProps={globalObject:\"2.0.0\",dynGlobalObject:\"2.1.0\",latestBlocks:{},assets:{},accounts:{},height:1},De=Object(u.a)(De,{show_loader:!0});var Be=De=Object(de.a)(De,{propNames:[\"coreAsset\"],withDynamic:!0}),Le=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Re=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),Le(t,[{key:\"render\",value:function(){return r.a.createElement(q.a,{stores:[se.a],inject:{latestBlocks:function(){return se.a.getState().latestBlocks},latestTransactions:function(){return se.a.getState().latestTransactions}}},r.a.createElement(Be,null))}}]),t}(),Ie=n(519),Me=n(1),Ve=n.n(Me),ze=n(416),We=n(138),Fe=n(331),Ue=n(137),He=n(39),qe=n(94),Ge=n(1772),Je=n(13),Ze=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},Ke=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe=new qe.a(\"__graphene__\"),Ye=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),a=Je.Apis.instance().chain_id;return a=a?a.substr(0,8):\"4018d784\",n.state={chainID:a,foundLast:!1,lastAsset:\"\",isLoading:!1,totalAssets:\"object\"!=Ze(Xe.get(\"totalAssets_\"+a))?Xe.get(\"totalAssets_\"+a):a&&\"4018d784\"===a?3e3:50,assetsFetched:0,activeFilter:\"market\",filterUIA:e.filterUIA||\"\",filterMPA:e.filterMPA||\"\",filterPM:e.filterPM||\"\"},n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),Ke(t,[{key:\"shouldComponentUpdate\",value:function(e,t){return!l.a.is(e.assets,this.props.assets)||!Oe.a.are_equal_shallow(t,this.state)}},{key:\"componentWillMount\",value:function(){this._checkAssets(this.props.assets,!0)}},{key:\"_checkAssets\",value:function(e,t){this.setState({isLoading:!0});var n=e.sort(function(e,t){return e.symbol>t.symbol?1:e.symbol<t.symbol?-1:0}).last();0===e.size||t?(ze.a.getAssetList.defer(\"A\",100),this.setState({assetsFetched:100})):e.size>=this.state.assetsFetched&&(ze.a.getAssetList.defer(n.symbol,100),this.setState({assetsFetched:this.state.assetsFetched+99})),e.size>this.state.totalAssets&&Xe.set(\"totalAssets_\"+this.state.chainID,e.size),this.state.assetsFetched>=this.state.totalAssets-100&&this.setState({isLoading:!1})}},{key:\"componentWillReceiveProps\",value:function(e){e.assets!==this.props.assets&&this._checkAssets(e.assets)}},{key:\"linkToAccount\",value:function(e){return e?r.a.createElement(We.a,{account:e}):r.a.createElement(\"span\",null,\"-\")}},{key:\"_toggleFilter\",value:function(e){this.setState({activeFilter:e})}},{key:\"_onFilter\",value:function(e,t){this.setState(Qe({},e,t.target.value.toUpperCase())),g.a.changeViewSetting(Qe({},e,t.target.value.toUpperCase()))}},{key:\"render\",value:function(){var e=this,t=this.props.assets,n=this.state.activeFilter,a=J.a.translate(\"markets.filter\").toUpperCase(),o=m.ChainStore.getAsset(\"1.3.0\"),i=void 0,l=void 0,s=void 0;\"user\"==n&&(i=t.filter(function(t){return!t.market_asset&&-1!==t.symbol.indexOf(e.state.filterUIA)}).map(function(t){var n=Fe.a.parseDescription(t.options.description),a=t.symbol+\"_\"+(n.market?n.market:o?o.get(\"symbol\"):\"BTS\");return r.a.createElement(\"tr\",{key:t.symbol},r.a.createElement(\"td\",null,r.a.createElement(ce.a,{to:\"/asset/\"+t.symbol},r.a.createElement(Ue.a,{name:t.symbol}))),r.a.createElement(\"td\",null,e.linkToAccount(t.issuer)),r.a.createElement(\"td\",null,r.a.createElement(p.a,{amount:t.dynamic.current_supply,asset:t.id,hide_asset:!0})),r.a.createElement(\"td\",null,r.a.createElement(ce.a,{className:\"button outline\",to:\"/market/\"+a},r.a.createElement(d.a,{content:\"header.exchange\"}))))}).sort(function(e,t){return e.key>t.key?1:e.key<t.key?-1:0}).toArray()),\"market\"==n&&(l=t.filter(function(t){return t.bitasset_data&&!t.bitasset_data.is_prediction_market&&-1!==t.symbol.indexOf(e.state.filterMPA)}).map(function(t){var n=Fe.a.parseDescription(t.options.description),a=t.symbol+\"_\"+(n.market?n.market:o?o.get(\"symbol\"):\"BTS\");return r.a.createElement(\"tr\",{key:t.symbol},r.a.createElement(\"td\",null,r.a.createElement(ce.a,{to:\"/asset/\"+t.symbol},r.a.createElement(Ue.a,{name:t.symbol}))),r.a.createElement(\"td\",null,e.linkToAccount(t.issuer)),r.a.createElement(\"td\",null,r.a.createElement(p.a,{amount:t.dynamic.current_supply,asset:t.id,hide_asset:!0})),r.a.createElement(\"td\",null,r.a.createElement(ce.a,{className:\"button outline\",to:\"/market/\"+a},r.a.createElement(d.a,{content:\"header.exchange\"}))))}).sort(function(e,t){return e.key>t.key?1:e.key<t.key?-1:0}).toArray()),\"prediction\"==n&&(s=t.filter(function(t){var n=Fe.a.parseDescription(t.options.description);return t.bitasset_data&&t.bitasset_data.is_prediction_market&&(-1!==t.symbol.toLowerCase().indexOf(e.state.filterPM.toLowerCase())||-1!==n.main.toLowerCase().indexOf(e.state.filterPM.toLowerCase()))}).map(function(e){var t=Fe.a.parseDescription(e.options.description),n=e.symbol+\"_\"+(t.market?t.market:o?o.get(\"symbol\"):\"BTS\");return r.a.createElement(\"tr\",{key:e.id.split(\".\")[2]},r.a.createElement(\"td\",{style:{width:\"80%\"}},r.a.createElement(\"div\",{style:{paddingTop:10,fontWeight:\"bold\"}},r.a.createElement(ce.a,{to:\"/asset/\"+e.symbol},r.a.createElement(Ue.a,{name:e.symbol})),t.condition?r.a.createElement(\"span\",null,\" (\",t.condition,\")\"):null),t?r.a.createElement(\"div\",{style:{padding:\"10px 20px 5px 0\",lineHeight:\"18px\"}},t.main):null,r.a.createElement(\"div\",{style:{padding:\"0 20px 5px 0\",lineHeight:\"18px\"}},r.a.createElement(We.a,{account:e.issuer}),r.a.createElement(\"span\",null,\" \",\"-\",\" \",r.a.createElement(p.a,{amount:e.dynamic.current_supply,asset:e.id})),t.expiry?r.a.createElement(\"span\",null,\" - \",t.expiry):null)),r.a.createElement(\"td\",{style:{width:\"20%\"}},r.a.createElement(ce.a,{className:\"button outline\",to:\"/market/\"+n},r.a.createElement(d.a,{content:\"header.exchange\"}))))}).sort(function(e,t){return e.key>t.key?-1:e.key<t.key?1:0}).toArray());var c=r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null,r.a.createElement(d.a,{component:\"span\",content:\"explorer.assets.symbol\"})),r.a.createElement(\"th\",null,r.a.createElement(d.a,{component:\"span\",content:\"explorer.assets.issuer\"})),r.a.createElement(\"th\",null,r.a.createElement(d.a,{component:\"span\",content:\"markets.supply\"})),r.a.createElement(\"th\",null));return r.a.createElement(\"div\",{className:\"grid-block vertical\"},r.a.createElement(\"div\",{className:\"grid-block vertical\"},r.a.createElement(\"div\",{className:\"grid-block main-content small-12 medium-10 medium-offset-1 main-content vertical\"},r.a.createElement(\"div\",{className:\"generic-bordered-box tab-content\"},r.a.createElement(\"div\",{className:\"header-selector\"},r.a.createElement(\"div\",{className:\"selector\"},r.a.createElement(\"div\",{className:E()(\"inline-block\",{inactive:\"market\"!=n}),onClick:this._toggleFilter.bind(this,\"market\")},r.a.createElement(d.a,{content:\"explorer.assets.market\"})),r.a.createElement(\"div\",{className:E()(\"inline-block\",{inactive:\"user\"!=n}),onClick:this._toggleFilter.bind(this,\"user\")},r.a.createElement(d.a,{content:\"explorer.assets.user\"})),r.a.createElement(\"div\",{className:E()(\"inline-block\",{inactive:\"prediction\"!=n}),onClick:this._toggleFilter.bind(this,\"prediction\")},r.a.createElement(d.a,{content:\"explorer.assets.prediction\"})))),this.state.isLoading?r.a.createElement(He.a,null):null,\"market\"==n?r.a.createElement(\"div\",{className:\"grid-block shrink\"},r.a.createElement(\"div\",{className:\"grid-content\"},r.a.createElement(\"input\",{style:{maxWidth:\"500px\"},placeholder:a,type:\"text\",value:this.state.filterMPA,onChange:this._onFilter.bind(this,\"filterMPA\")}))):null,\"market\"==n?r.a.createElement(\"div\",{className:\"grid-block\",style:{paddingBottom:20}},r.a.createElement(Ge.a,{header:c,rows:l})):null,\"user\"==n?r.a.createElement(\"div\",{className:\"grid-block shrink\"},r.a.createElement(\"div\",{className:\"grid-content\"},r.a.createElement(\"input\",{style:{maxWidth:\"500px\"},placeholder:a,type:\"text\",value:this.state.filterUIA,onChange:this._onFilter.bind(this,\"filterUIA\")}))):null,\"user\"==n?r.a.createElement(\"div\",{className:\"grid-block\",style:{paddingBottom:20}},r.a.createElement(Ge.a,{header:c,rows:i})):null,\"prediction\"==n?r.a.createElement(\"div\",{className:\"grid-block shrink\"},r.a.createElement(\"div\",{className:\"grid-content\"},r.a.createElement(\"input\",{style:{maxWidth:\"500px\"},placeholder:J.a.translate(\"markets.search\").toUpperCase(),type:\"text\",value:this.state.filterPM,onChange:this._onFilter.bind(this,\"filterPM\")}))):null,\"prediction\"==n?r.a.createElement(\"div\",{className:\"grid-block\",style:{paddingBottom:20}},r.a.createElement(Ge.a,{rows:s,pageSize:6})):null))))}}]),t}();Ye.defaultProps={assets:{}},Ye.propTypes={assets:Ve.a.object.isRequired};var $e=Ye,et=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var tt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),et(t,[{key:\"render\",value:function(){return r.a.createElement(q.a,{stores:[Ie.a,v.a],inject:{assets:function(){return Ie.a.getState().assets},filterMPA:function(){return v.a.getState().viewSettings.get(\"filterMPA\")},filterUIA:function(){return v.a.getState().viewSettings.get(\"filterUIA\")}}},r.a.createElement($e,null))}}]),t}(),nt=n(25),at=n(302),rt=n(45),ot=n(20),it=n(330),lt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();function st(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function ct(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function ut(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var mt=function(e){function t(){return st(this,t),ct(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ut(t,r.a.Component),lt(t,[{key:\"shouldComponentUpdate\",value:function(e){return e.contacts!==this.props.contacts||e.account!==this.props.account}},{key:\"_onAddContact\",value:function(e,t){t.preventDefault(),rt.a.addAccountContact(e)}},{key:\"_onRemoveContact\",value:function(e,t){t.preventDefault(),rt.a.removeAccountContact(e)}},{key:\"render\",value:function(){var e=this.props,t=e.account,n=e.contacts;if(!t)return null;var a=t.getIn([\"balances\",\"1.3.0\"])||null,o=t.get(\"name\");return r.a.createElement(\"tr\",{key:t.get(\"id\")},r.a.createElement(\"td\",null,t.get(\"id\")),n.has(o)?r.a.createElement(\"td\",{onClick:this._onRemoveContact.bind(this,o)},r.a.createElement(ot.a,{name:\"minus-circle\",title:\"icons.minus_circle.remove_contact\"})):r.a.createElement(\"td\",{onClick:this._onAddContact.bind(this,o)},r.a.createElement(ot.a,{name:\"plus-circle\",title:\"icons.plus_circle.add_contact\"})),r.a.createElement(\"td\",null,r.a.createElement(ce.a,{to:\"/account/\"+o+\"/overview\"},o)),r.a.createElement(\"td\",null,a?r.a.createElement(it.a,{balance:a}):\"n/a\"),r.a.createElement(\"td\",null,a?r.a.createElement(it.a,{balance:a,asPercentage:!0}):\"n/a\"))}}]),t}();mt.propTypes={account:c.a.ChainAccount.isRequired},mt.defaultProps={tempComponent:\"tr\",autosubscribe:!1},mt=Object(u.a)(mt);var pt=function(e){return r.a.createElement(mt,e)};pt=Object(b.connect)(pt,{listenTo:function(){return[nt.a]},getProps:function(){return{contacts:nt.a.getState().accountContacts}}});var ft=function(e){function t(e){st(this,t);var n=ct(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={searchTerm:e.searchTerm,isLoading:!1},n._searchAccounts=Object(at.a)(n._searchAccounts,200),n}return ut(t,r.a.Component),lt(t,[{key:\"shouldComponentUpdate\",value:function(e,t){return!l.a.is(e.searchAccounts,this.props.searchAccounts)||t.searchTerm!==this.state.searchTerm||t.isLoading!==this.state.isLoading}},{key:\"_onSearchChange\",value:function(e){this.setState({searchTerm:e.target.value.toLowerCase(),isLoading:!0}),this._searchAccounts(e.target.value)}},{key:\"_searchAccounts\",value:function(e){rt.a.accountSearch(e),this.setState({isLoading:!1})}},{key:\"render\",value:function(){var e=this.props.searchAccounts,t=this.state.searchTerm,n=[];return e.size>0&&t&&t.length>0&&(n=e.filter(function(e){return-1!==e.indexOf(t)}).sort(function(e,t){return e>t?1:e<t?-1:0}).map(function(e,t){return r.a.createElement(pt,{key:t,account:e})}).toArray()),r.a.createElement(\"div\",{className:\"grid-block\"},r.a.createElement(\"div\",{className:\"grid-block vertical medium-6 medium-offset-3\"},r.a.createElement(\"div\",{className:\"grid-content shrink\"},r.a.createElement(d.a,{component:\"h3\",content:\"explorer.accounts.title\"}),r.a.createElement(\"input\",{type:\"text\",value:this.state.searchTerm,onChange:this._onSearchChange.bind(this)})),r.a.createElement(Ge.a,{header:r.a.createElement(\"tr\",null,r.a.createElement(\"th\",null,r.a.createElement(d.a,{component:\"span\",content:\"explorer.assets.id\"})),r.a.createElement(\"th\",null,r.a.createElement(ot.a,{name:\"user\",title:\"icons.user.account\"})),r.a.createElement(\"th\",null,r.a.createElement(d.a,{component:\"span\",content:\"account.name\"})),r.a.createElement(\"th\",null,r.a.createElement(d.a,{component:\"span\",content:\"gateway.balance\"})),r.a.createElement(\"th\",null,r.a.createElement(d.a,{component:\"span\",content:\"account.percent\"}))),rows:n,pageSize:20}),this.state.isLoading?r.a.createElement(\"div\",{style:{textAlign:\"center\",padding:10}},r.a.createElement(He.a,{type:\"three-bounce\"})):null))}}]),t}();ft.defaultProps={searchAccounts:{}},ft.propTypes={searchAccounts:Ve.a.object.isRequired};var dt=ft,ht=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var bt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),ht(t,[{key:\"render\",value:function(){return r.a.createElement(q.a,{stores:[nt.a],inject:{searchAccounts:function(){return nt.a.getState().searchAccounts},searchTerm:function(){return nt.a.getState().searchTerm}}},r.a.createElement(dt,null))}}]),t}(),gt=n(248),vt=n(1852),yt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Et=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={height:null},e._setDimensions=e._setDimensions.bind(e),e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),yt(t,[{key:\"componentWillMount\",value:function(){window.addEventListener(\"resize\",this._setDimensions,{capture:!1,passive:!0})}},{key:\"componentDidMount\",value:function(){this._setDimensions()}},{key:\"componentWillUnmount\",value:function(){window.removeEventListener(\"resize\",this._setDimensions)}},{key:\"_setDimensions\",value:function(){var e=this.refs.wrapper.offsetHeight;e!==this.state.height&&this.setState({height:e})}},{key:\"render\",value:function(){return r.a.createElement(\"div\",{ref:\"wrapper\",className:\"grid-block page-layout no-overflow\"},r.a.createElement(vt.a,{style:{width:\"100%\",padding:20},listHeight:this.state.height?this.state.height-82:null,className:\"no-overflow\",headerStyle:{paddingTop:0,borderTop:\"none\"},columns:[{name:\"star\",index:1},{name:\"market\",index:2},{name:\"quoteSupply\",index:3},{name:\"vol\",index:4},{name:\"price\",index:5},{name:\"change\",index:6}]}))}}]),t}(),_t=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var kt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t),function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),_t(t,[{key:\"render\",value:function(){return r.a.createElement(q.a,{stores:[v.a,Ie.a,gt.a],inject:{starredMarkets:function(){return v.a.getState().starredMarkets},viewSettings:function(){return v.a.getState().viewSettings},lookupResults:function(){return Ie.a.getState().lookupResults},marketBase:function(){return gt.a.getState().marketBase}}},r.a.createElement(Et,null))}}]),t}(),wt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var Ot=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={tabs:[{name:\"blocks\",link:\"/explorer/blocks\",translate:\"explorer.blocks.title\",content:Re},{name:\"assets\",link:\"/explorer/assets\",translate:\"explorer.assets.title\",content:tt},{name:\"accounts\",link:\"/explorer/accounts\",translate:\"explorer.accounts.title\",content:bt},{name:\"witnesses\",link:\"/explorer/witnesses\",translate:\"explorer.witnesses.title\",content:P},{name:\"committee_members\",link:\"/explorer/committee-members\",translate:\"explorer.committee_members.title\",content:U},{name:\"markets\",link:\"/explorer/markets\",translate:\"markets.title\",content:kt},{name:\"fees\",link:\"/explorer/fees\",translate:\"fees.title\",content:le}]},n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),wt(t,[{key:\"render\",value:function(){for(var e=this.props.match.params.tab,t=this.state.tabs.findIndex(function(t){return t.name===e}),n=[],a=0;a<this.state.tabs.length;a++){var i=this.state.tabs[a],l=i.content,s=t==a?\"\":i.link;n.push(r.a.createElement(o.a,{key:a,title:i.translate,isLinkTo:s},r.a.createElement(l,null)))}return r.a.createElement(o.b,{defaultActiveTab:t,segmented:!1,setting:\"explorer-tabs\",className:\"account-tabs\",tabsClass:\"account-overview bordered-header content-block\",contentClass:\"tab-content padding\"},n)}}]),t}();t.default=Ot}}]);"],"mappings":"AAAA","sourceRoot":""}