(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1737:function(t,e,n){"use strict";n.d(e,"b",function(){return w}),n.d(e,"a",function(){return y});var a=n(0),o=n.n(a),s=n(1),i=n.n(s),r=n(4),c=n.n(r),u=n(31),l=n(20),p=n(21),d=n(16),h=n.n(d),f=n(2018),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}();function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y=function(t){function e(){return b(this,e),g(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return v(e,o.a.Component),m(e,[{key:"render",value:function(){var t=this.props,e=t.isActive,n=t.index,a=t.changeTab,s=t.title,i=t.className,r=t.updatedTab,u=t.disabled,l=t.subText,p=c()({"is-active":e},i);return"string"==typeof s&&s.indexOf(".")>0&&(s=h.a.translate(s)),this.props.collapsed?("string"==typeof l&&(l=l.trim()),o.a.createElement("option",{value:n,"data-is-link-to":this.props.isLinkTo},o.a.createElement("span",{className:"tab-title"},s,r?"*":"",l&&" (",l&&l,l&&")"))):o.a.createElement("li",{className:p,onClick:u?null:a.bind(this,n,this.props.isLinkTo)},o.a.createElement("a",null,o.a.createElement("span",{className:"tab-title"},s,r?"*":""),l&&o.a.createElement("div",{className:"tab-subtext"},l)))}}]),e}();y.propTypes={changeTab:i.a.func,isActive:i.a.bool.isRequired,index:i.a.number.isRequired,className:i.a.string,isLinkTo:i.a.string,subText:i.a.oneOfType([i.a.object,i.a.string])},y.defaultProps={isActive:!1,index:0,className:"",isLinkTo:"",subText:null};var w=function(t){function e(t){b(this,e);var n=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.state={activeTab:t.setting?t.viewSettings.get(t.setting,t.defaultActiveTab):t.defaultActiveTab,width:window.innerWidth},n._setDimensions=n._setDimensions.bind(n),n}return v(e,o.a.Component),m(e,[{key:"componentDidMount",value:function(){this._setDimensions(),window.addEventListener("resize",this._setDimensions,{capture:!1,passive:!0})}},{key:"componentWillReceiveProps",value:function(t){var e=t.viewSettings.get(t.setting);e!==this.props.viewSettings.get(this.props.setting)&&this.setState({activeTab:e})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._setDimensions)}},{key:"_setDimensions",value:function(){var t=window.innerWidth;t!==this.state.width&&this.setState({width:t})}},{key:"_changeTab",value:function(t,e){t!==this.state.activeTab&&(""!==e&&this.props.history.push(e),this.props.setting&&l.a.changeViewSetting(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},this.props.setting,t)),this.setState({activeTab:t}),this.props.onChangeTab&&this.props.onChangeTab(t))}},{key:"render",value:function(){var t=this,e=this.props,n=e.children,a=e.contentClass,s=e.tabsClass,i=e.style,r=e.segmented,u=this.state.width<900&&o.a.Children.count(n)>2,l=null,p=o.a.Children.map(n,function(e,n){if(!e)return null;if(u&&e.props.disabled)return null;var a=n===t.state.activeTab;return a&&(l=e.props.children),o.a.cloneElement(e,{collapsed:u,isActive:a,changeTab:t._changeTab.bind(t),index:n})}).filter(function(t){return null!==t});return l||(l=p[0].props.children),o.a.createElement("div",{className:c()(this.props.actionButtons?"with-buttons":"",this.props.className)},o.a.createElement("div",{className:"service-selector"},o.a.createElement("ul",{style:i,className:c()("button-group no-margin",s,{segmented:r})},u?o.a.createElement("li",{style:{paddingLeft:10,paddingRight:10,minWidth:"15rem"}},o.a.createElement("select",{value:this.state.activeTab,style:{marginTop:10,marginBottom:10},className:"bts-select",onChange:function(e){var n=parseInt(e.target.value,10);t._changeTab(n,e.target[n].attributes["data-is-link-to"].value)}},p)):p,this.props.actionButtons?o.a.createElement("li",{className:"tabs-action-buttons"},this.props.actionButtons):null)),o.a.createElement("div",{className:c()("tab-content",a)},l))}}]),e}();w.propTypes={setting:i.a.string,defaultActiveTab:i.a.number,segmented:i.a.bool},w.defaultProps={active:0,defaultActiveTab:0,segmented:!0,contentClass:"",style:{}},w=Object(u.connect)(w,{listenTo:function(){return[p.a]},getProps:function(){return{viewSettings:p.a.getState().viewSettings}}}),w=Object(f.a)(w)},2027:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),s=n(11),i=n.n(s),r=n(1793),c=n(1746),u=n(48),l=n(509),p=n(20),d=n(21),h=n(24),f=n(235),m=n(1737),b=n(115),g=n.n(b),v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},y=function(){function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}}();function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function T(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _=function(t){function e(){return w(this,e),E(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return T(e,o.a.Component),y(e,[{key:"render",value:function(){return o.a.createElement(g.a,{stores:[h.a,d.a,f.a],inject:{contacts:function(){return h.a.getState().accountContacts},myActiveAccounts:function(){return h.a.getState().myActiveAccounts},myHiddenAccounts:function(){return h.a.getState().myHiddenAccounts},accountsReady:function(){return h.a.getState().accountsLoaded&&h.a.getState().refsLoaded},passwordAccount:function(){return h.a.getState().passwordAccount},lowVolumeMarkets:function(){return f.a.getState().lowVolumeMarkets},currentEntry:d.a.getState().viewSettings.get("dashboardEntry","accounts")}},o.a.createElement(A,this.props))}}]),e}(),A=function(t){function e(t){w(this,e);var n=E(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.state={width:null,showIgnored:!1,currentEntry:t.currentEntry},n._setDimensions=n._setDimensions.bind(n),n}return T(e,o.a.Component),y(e,[{key:"componentDidMount",value:function(){this._setDimensions(),window.addEventListener("resize",this._setDimensions,{capture:!1,passive:!0})}},{key:"shouldComponentUpdate",value:function(t,e){return t.myActiveAccounts!==this.props.myActiveAccounts||t.contacts!==this.props.contacts||t.ignoredAccounts!==this.props.ignoredAccounts||t.passwordAccount!==this.props.passwordAccount||e.width!==this.state.width||t.accountsReady!==this.props.accountsReady||e.showIgnored!==this.state.showIgnored||e.currentEntry!==this.state.currentEntry}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._setDimensions)}},{key:"_setDimensions",value:function(){var t=window.innerWidth;t!==this.state.width&&this.setState({width:t})}},{key:"_onToggleIgnored",value:function(){this.setState({showIgnored:!this.state.showIgnored})}},{key:"_onSwitchType",value:function(t){this.setState({currentEntry:t}),p.a.changeViewSetting({dashboardEntry:t})}},{key:"render",value:function(){var t=this.props,e=t.myActiveAccounts,n=t.myHiddenAccounts,a=t.accountsReady,s=t.passwordAccount,p=this.state,d=p.width,h=p.showIgnored;s&&!e.has(s)&&(e=e.add(s));var f=e.toArray().sort();s&&-1===f.indexOf(s)&&f.push(s);var b=n.toArray().sort(),g=e.size+n.size+(s?1:0);if(!a)return o.a.createElement(u.a,null);if(!g)return o.a.createElement(l.a,null);var v=this.props.contacts.toArray();return o.a.createElement("div",{ref:"wrapper",className:"grid-block page-layout vertical"},o.a.createElement("div",{ref:"container",className:"tabs-container generic-bordered-box"},o.a.createElement(m.b,{setting:"accountTab",className:"account-tabs",defaultActiveTab:1,segmented:!1,tabsClass:"account-overview no-padding bordered-header content-block"},o.a.createElement(m.a,{title:"account.accounts"},o.a.createElement("div",{className:"generic-bordered-box"},o.a.createElement("div",{className:"box-content"},o.a.createElement(r.a,{accounts:i.a.List(f),ignoredAccounts:i.a.List(b),width:d,onToggleIgnored:this._onToggleIgnored.bind(this),showIgnored:h,showMyAccounts:!0})))),o.a.createElement(m.a,{title:"account.contacts"},o.a.createElement("div",{className:"generic-bordered-box"},o.a.createElement("div",{className:"box-content"},o.a.createElement(r.a,{accounts:v,passwordAccount:s,ignoredAccounts:i.a.List(b),width:d,onToggleIgnored:this._onToggleIgnored.bind(this),showIgnored:h,isContactsList:!0})))),o.a.createElement(m.a,{title:"account.recent"},o.a.createElement(c.a,{accountsList:e,limit:10,compactView:!1,fullHeight:!0,showFilters:!0,dashboard:!0})))))}}]),e}();e.default=function(t){return o.a.createElement(_,v({},t,{onlyAccounts:!0}))}}}]);