webpackJsonp([3],{1613:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var f=n(0),h=n.n(f),d=n(23),m=n(12),g=n(57),y=n(45),E=n.n(y),v=(n(10),n(592),n(121),n(1)),b=n.n(v),w=n(7),S=n(6),_=n(28),k=n(8),T=n.n(k),O=n(71),B=n(9),R=n(4),D=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),A=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.statsInterval=null,e.state={imgError:!1},e}return a(t,e),D(t,[{key:"_checkStats",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{close:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{close:{}};return e.volumeBase!==t.volumeBase||!R.a.are_equal_shallow(e.close&&e.close.base,t.close&&t.close.base)||!R.a.are_equal_shallow(e.close&&e.close.quote,t.close&&t.close.quote)}},{key:"shouldComponentUpdate",value:function(e,t){return this._checkStats(e.marketStats,this.props.marketStats)||e.base.get("id")!==this.props.base.get("id")||e.quote.get("id")!==this.props.quote.get("id")||t.imgError!==this.state.imgError}},{key:"componentWillMount",value:function(){O.a.getMarketStats.defer(this.props.quote,this.props.base),this.statsChecked=new Date,this.statsInterval=setInterval(O.a.getMarketStats.bind(this,this.props.quote,this.props.base),35e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.statsInterval)}},{key:"goToMarket",value:function(e){e.preventDefault(),this.context.router.push("/market/"+this.props.base.get("symbol")+"_"+this.props.quote.get("symbol"))}},{key:"_onError",value:function(e){this.state.imgError||(this.refs[e.toLowerCase()].src="asset-symbols/bts.png",this.setState({imgError:!0}))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.isLowVolume,r=e.base,o=e.quote,a=e.marketStats;if(n||t)return null;var s=function(e){var t=e.get("symbol");if("OPEN.BTC"===t||"GDEX.BTC"===t)return t;if(t.startsWith("ESCROW."))return t;var n=e.get("symbol").split(".");return 2===n.length?n[1]:n[0]}(r),i=a?parseFloat(a.change)>0?"change-up":parseFloat(a.change)<0?"change-down":"":"";return h.a.createElement("div",{className:T()("grid-block no-overflow fm-container",this.props.className),onClick:this.goToMarket.bind(this)},h.a.createElement("div",{className:"grid-block vertical shrink"},h.a.createElement("div",{className:"v-align"},h.a.createElement("img",{className:"align-center",ref:s.toLowerCase(),onError:this._onError.bind(this,s),style:{maxWidth:70},src:"asset-symbols/"+s.toLowerCase()+".png"}))),h.a.createElement("div",{className:"grid-block vertical no-overflow"},h.a.createElement("div",{className:"fm-name"},h.a.createElement(_.a,{dataPlace:"top",name:r.get("symbol")})," : ",h.a.createElement(_.a,{dataPlace:"top",name:o.get("symbol")})),h.a.createElement("div",{className:"fm-volume"},h.a.createElement(b.a,{content:"exchange.price"}),": ",h.a.createElement("div",{className:"float-right"},a&&a.price?R.a.price_text(a.price.toReal(),r,o):null)),h.a.createElement("div",{className:"fm-volume"},h.a.createElement(b.a,{content:"exchange.volume"}),": ",h.a.createElement("div",{className:"float-right"},a?R.a.format_volume(a.volumeBase,o.get("precision")):null)),h.a.createElement("div",{className:"fm-change"},h.a.createElement(b.a,{content:"exchange.change"}),": ",h.a.createElement("div",{className:T()("float-right",i)},a?a.change:null,"%"))))}}]),t}(h.a.Component);A.contextTypes={router:h.a.PropTypes.object.isRequired},A.propTypes={quote:w.a.ChainAsset.isRequired,base:w.a.ChainAsset.isRequired,invert:h.a.PropTypes.bool},A.defaultProps={invert:!0},A=Object(S.a)(A);var C=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),D(t,[{key:"render",value:function(){return h.a.createElement(A,this.props)}}]),t}(h.a.Component),P=Object(B.connect)(C,{listenTo:function(){return[g.a]},getProps:function(e){return{marketStats:g.a.getState().allMarketStats.get(e.marketId)}}}),j=n(18),N=n(30),U=n(224),M=n(11),q=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),L=function(e){function t(e){s(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),r={"4018d784":[["BTS","RUBLE"],["RUBLE","ESCROW.RUBLE"],["BTS","RUDEX.ETH"],["BTS","PPY"],["RUBLE","RUDEX.GOLOS"],["RUBLE","RUDEX.GBG"],["BTS","RUDEX.STEEM"],["BTS","RUDEX.SBD"],["BTS","ZEPH"],["BTS","RUDEX.DCT"],["BTS","RUDEX.KRM"],["BTS","RUDEX.TT"],["BTS","RUDEX.SCR"],["BTS","USD"],["BTS","EUR"],["BTS","CNY"],["BTS","GOLD"],["BTS","SILVER"],["BTS","HERO"],["BTS","OBITS"],["BTS","SMOKE"],["BTS","YOYOW"],["CNY","GDEX.BTC"],["CNY","GDEX.ETH"],["CNY","GDEX.EOS"],["BTS","BTWTY"],["BTS","RUDEX.MUSE"]],"39f5e2ed":[["TEST","PEG.FAKEUSD"],["TEST","BTWTY"]]},o=j.Apis.instance().chain_id;return o&&(o=o.substr(0,8)),n.state={width:null,showIgnored:!1,featuredMarkets:r[o]||r["4018d784"],newAssets:[],currentEntry:e.currentEntry},n._setDimensions=n._setDimensions.bind(n),n}return c(t,e),q(t,[{key:"componentDidMount",value:function(){this._setDimensions(),window.addEventListener("resize",this._setDimensions,{capture:!1,passive:!0})}},{key:"shouldComponentUpdate",value:function(e,t){return!R.a.are_equal_shallow(t.featuredMarkets,this.state.featuredMarkets)||!R.a.are_equal_shallow(e.lowVolumeMarkets,this.props.lowVolumeMarkets)||!R.a.are_equal_shallow(t.newAssets,this.state.newAssets)||e.linkedAccounts!==this.props.linkedAccounts||e.ignoredAccounts!==this.props.ignoredAccounts||e.passwordAccount!==this.props.passwordAccount||t.width!==this.state.width||e.accountsReady!==this.props.accountsReady||t.showIgnored!==this.state.showIgnored||t.currentEntry!==this.state.currentEntry}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._setDimensions)}},{key:"_setDimensions",value:function(){var e=window.innerWidth;e!==this.state.width&&this.setState({width:e})}},{key:"_onToggleIgnored",value:function(){this.setState({showIgnored:!this.state.showIgnored})}},{key:"_onSwitchType",value:function(e){this.setState({currentEntry:e}),M.a.changeViewSetting({dashboardEntry:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.linkedAccounts,r=t.myHiddenAccounts,o=t.accountsReady,a=t.passwordAccount,s=this.state,i=(s.width,s.showIgnored,s.featuredMarkets),c=s.newAssets,l=s.currentEntry;a&&!n.has(a)&&(n=n.add(a));var u=n.toArray().sort();a&&-1===u.indexOf(a)&&u.push(a);var p=(r.toArray().sort(),n.size+r.size+(a?1:0));if(!o)return h.a.createElement(N.a,null);var f=0,d=i.map(function(t){var n=e.props.lowVolumeMarkets.get(t[1]+"_"+t[0])||e.props.lowVolumeMarkets.get(t[0]+"_"+t[1]);(n=!1)||f++;var r="";return f>15?r+=" show-for-"+(p?"large":"xlarge"):f>12&&(r+=" show-for-"+(p?"medium":"large")),h.a.createElement(P,{key:t[0]+"_"+t[1],marketId:t[1]+"_"+t[0],new:-1!==c.indexOf(t[1]),className:r,quote:t[0],base:t[1],invert:t[2],isLowVolume:n,hide:f>29})}).filter(function(e){return!!e});if(!p)return h.a.createElement(U.default,null);var m=["accounts","contacts","recent"];m.indexOf(l);return h.a.createElement("div",{ref:"wrapper",className:"grid-block vertical"},h.a.createElement("div",{ref:"container",className:"grid-container",style:{padding:"2rem 8px"}},this.props.onlyAccounts?null:h.a.createElement("div",{className:"block-content-header",style:{marginBottom:15,paddingTop:0}},h.a.createElement(b.a,{content:"exchange.featured"})),this.props.onlyAccounts?null:h.a.createElement("div",{className:"grid-block small-up-1 medium-up-3 large-up-4 no-overflow fm-outer-container"},d)))}}]),t}(h.a.Component),x=function(e){return h.a.createElement(L,e)},I=x=Object(B.connect)(x,{listenTo:function(){return[m.a]},getProps:function(){return{viewSettings:m.a.getState().viewSettings}}}),X=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),W=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return p(t,e),X(t,[{key:"render",value:function(){return h.a.createElement(E.a,{stores:[d.a,m.a,g.a],inject:{linkedAccounts:function(){return d.a.getState().linkedAccounts},myHiddenAccounts:function(){return d.a.getState().myHiddenAccounts},accountsReady:function(){return d.a.getState().accountsLoaded&&d.a.getState().refsLoaded},passwordAccount:function(){return d.a.getState().passwordAccount},lowVolumeMarkets:function(){return g.a.getState().lowVolumeMarkets},currentEntry:m.a.getState().viewSettings.get("dashboardEntry","accounts")}},h.a.createElement(I,this.props))}}]),t}(h.a.Component);t.default=W}});
//# sourceMappingURL=3.js.map